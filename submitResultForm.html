<!DOCTYPE html PUBLIC
  "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1"/>
<title>Submit a runner time</title>
</head>
<body>


<hr/>
<h1>Submit a runner time</h1>
<hr/>
Note: all fields marked '*' are mandatory.
<p/>
<form action="http://students.open.ac.uk/mct/tt284/reflect/reflect.php"
      method="post" name="submitrunnertime">
<table>
<tr><td>Runner ID*</td>
<td><input type="text" id = 'RunnerID' name="RunnerID" size="4" maxlength="4"/></td>
</tr>
<tr><td>Event ID*</td>
<td><input type="text" id="EventID" name="EventID" size="4" maxlength="4"/></td>
</tr>
<tr><td>Date (YYYY-MM-DD)*</td>
<td><input type="text" id="Date" name="Date" size="10" maxlength="10"/></td>
</tr>
<tr><td>Finish time (HH:MM:SS)*</td>
<td><input type="text" id="Finish" name="FinishTime" size="8" maxlength="8"/></td>
</tr>
<tr><td>Position</td>
<td><input type="text" name="Position" size="5" maxlength="5"/></td>
</tr>
<tr><td>Category ID</td>
<td><input type="text" name="CategoryID" size="3" maxlength="2"/></td>
</tr>
<tr><td>Age grade</td>
<td><input type="text" name="AgeGrade" size="5" maxlength="5"/></td>
</tr>
<tr><td>Personal best</td>
<td><input type="text" id="PB" name="PB" size="1" maxlength="2"/></td>
</tr>
</table>
<input  type="submit" name="submitrunnertime" value="submit" onclick="return validate();"/>
<hr/>
</form>

<script type="text/javascript">




function isNotEmptyValue(value,name)
{

   var id = document.getElementById(value).value;

  if (id == null || id == "")
  {
    return "ERROR " + name + " must be given\n";

    return false;

  }
  else return true;

}

function lengthCheck(value, min, max)
{
  if (value.length < min || value.length > max )
  {
    return "Error please ensure you are are between " + min +' and ' + max+'\n';
    console.log("length validate works");
    return false;
  }
  else return true;
}

isNotEmptyValue('RunnerID','RunnerID');

// main function to run on sumbit
function validate()
{

  var result = isNotEmptyValue('RunnerID','RunnerID') + isNotEmptyValue('EventID','EventID')
              + isNotEmptyValue('Date','Date') + isNotEmptyValue('Finish','Finish') +
              lengthCheck("RunnerID",1, 4) + lengthCheck("EventId", 1,4) + lengthCheck("Date",1,10)
              + lengthCheck("Finish",1,8);

  if(result != null || result != "")
  {
    alert(result);
  }
  


}




</script>

</body>
</html>
